{"meta":{"title":"Jonny's Blog","subtitle":"Jonny","description":"技术笔记","author":"Jonny","url":"http://yoursite.com"},"pages":[{"title":"标签","date":"2018-11-01T08:20:47.000Z","updated":"2018-11-01T09:03:56.075Z","comments":false,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""},{"title":"关于我","date":"2018-11-01T08:17:25.000Z","updated":"2018-11-01T09:18:43.658Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"博主： JonnyQQ: 342418262擅长技术+ Java + Groovy"},{"title":"分类","date":"2018-11-01T08:21:09.000Z","updated":"2018-11-01T09:04:15.579Z","comments":false,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"yaml基本语法","slug":"yaml用法","date":"2018-11-06T08:57:44.717Z","updated":"2018-11-06T08:57:44.717Z","comments":true,"path":"2018/11/06/yaml用法/","link":"","permalink":"http://yoursite.com/2018/11/06/yaml用法/","excerpt":"","text":"YAML用法 对象或键值对 1、普通用法123user: name: zhangsan age: 20 2、行内用法1user: &#123;name: zhangsan,age: 20&#125; 数组 1、普通用法1234pets: - pig - dog - cat 2、行内写法1ptes: [pig,dog,cat]","categories":[{"name":"后端","slug":"后端","permalink":"http://yoursite.com/categories/后端/"}],"tags":[{"name":"yaml","slug":"yaml","permalink":"http://yoursite.com/tags/yaml/"},{"name":"yml","slug":"yml","permalink":"http://yoursite.com/tags/yml/"},{"name":"application.yml","slug":"application-yml","permalink":"http://yoursite.com/tags/application-yml/"},{"name":"application.properties","slug":"application-properties","permalink":"http://yoursite.com/tags/application-properties/"}]},{"title":"windows以管理员运行快捷方式","slug":"windows以管理员运行快捷方式","date":"2018-11-06T08:57:44.716Z","updated":"2018-11-06T08:57:44.716Z","comments":true,"path":"2018/11/06/windows以管理员运行快捷方式/","link":"","permalink":"http://yoursite.com/2018/11/06/windows以管理员运行快捷方式/","excerpt":"","text":"Windows通过右键菜单，快捷打开CMD(Admin)窗口 创建一个后缀为.reg的文件，将下面的内容复制复制到该文件中 12345678910111213141516171819202122Windows Registry Editor Version 5.00; Created by: Shawn Brink; http://www.sevenforums.com; Tutorial: http://www.sevenforums.com/tutorials/47415-open-command-window-here-administrator.html[-HKEY_CLASSES_ROOT\\Directory\\shell\\runas][HKEY_CLASSES_ROOT\\Directory\\shell\\runas]@=&quot;Open CMD&quot;&quot;HasLUAShield&quot;=&quot;&quot;[HKEY_CLASSES_ROOT\\Directory\\shell\\runas\\command]@=&quot;cmd.exe /s /k pushd \\&quot;%V\\&quot;&quot;[-HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\runas][HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\runas]@=&quot;Open CMD&quot;&quot;HasLUAShield&quot;=&quot;&quot;[HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\runas\\command]@=&quot;cmd.exe /s /k pushd \\&quot;%V\\&quot;&quot;[-HKEY_CLASSES_ROOT\\Drive\\shell\\runas][HKEY_CLASSES_ROOT\\Drive\\shell\\runas]@=&quot;Open CMD&quot;&quot;HasLUAShield&quot;=&quot;&quot;[HKEY_CLASSES_ROOT\\Drive\\shell\\runas\\command]@=&quot;cmd.exe /s /k pushd \\&quot;%V\\&quot;&quot; 最后双击添加到注册表中","categories":[{"name":"Windows技巧","slug":"Windows技巧","permalink":"http://yoursite.com/categories/Windows技巧/"}],"tags":[{"name":"Windows","slug":"Windows","permalink":"http://yoursite.com/tags/Windows/"},{"name":"bat","slug":"bat","permalink":"http://yoursite.com/tags/bat/"}]},{"title":"","slug":"SpringBoot读取yaml配置","date":"2018-11-06T08:57:44.714Z","updated":"2018-11-06T08:57:44.715Z","comments":true,"path":"2018/11/06/SpringBoot读取yaml配置/","link":"","permalink":"http://yoursite.com/2018/11/06/SpringBoot读取yaml配置/","excerpt":"","text":"title: SpringBoot读取yaml配置 categories: 后端 tags: SpringBoot yaml yml application.yml application.properties SpringBoot读取yaml配置的值 在application.yml中添加配置 1234567891011121314user: name: 张三 age: 19 sex: 男 maps: &#123;weight: 70,height: 170&#125; address: addr: 重庆市渝中区 lists: - 京东 - 淘宝 - 坑多多 新建Address类 123456789101112131415161718192021package com.atgenee.demo.config;public class Address &#123; private String addr; public String getAddr() &#123; return addr; &#125; public void setAddr(String addr) &#123; this.addr = addr; &#125; @Override public String toString() &#123; return \"Address&#123;\" + \"addr='\" + addr + '\\'' + '&#125;'; &#125;&#125; 新建User类 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182package com.atgenee.demo.config;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.stereotype.Component;import java.util.List;import java.util.Map;@Component@ConfigurationProperties(prefix = \"user\")public class User &#123; private String name; private Integer age; private char sex; private Map&lt;String,Integer&gt; maps; private Address address; private List&lt;String&gt; lists; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; public char getSex() &#123; return sex; &#125; public void setSex(char sex) &#123; this.sex = sex; &#125; public Map&lt;String, Integer&gt; getMaps() &#123; return maps; &#125; public void setMaps(Map&lt;String, Integer&gt; maps) &#123; this.maps = maps; &#125; public Address getAddress() &#123; return address; &#125; public void setAddress(Address address) &#123; this.address = address; &#125; public List&lt;String&gt; getLists() &#123; return lists; &#125; public void setLists(List&lt;String&gt; lists) &#123; this.lists = lists; &#125; @Override public String toString() &#123; return \"User&#123;\" + \"name='\" + name + '\\'' + \", age=\" + age + \", sex=\" + sex + \", maps=\" + maps + \", address=\" + address + \", lists=\" + lists + '&#125;'; &#125;&#125; 新建测试类1234567891011121314151617181920212223package com.atgenee.demo;import com.atgenee.demo.config.User;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringRunner;@RunWith(SpringRunner.class)@SpringBootTestpublic class UserApplicationTests &#123; //注入配置类 @Autowired User user; @Test public void contextLoads() &#123; System.out.println(user); &#125;&#125; 测试结果1User&#123;name='Administrator', age=19, sex=男, maps=&#123;weight=70, height=170&#125;, address=Address&#123;addr='重庆市渝中区'&#125;, lists=[京东, 淘宝, 坑多多]&#125; 注意 yaml格式要求严格，以键值形式配置，键后冒号后面的空格一定不要丢（如: username: admin） @ConfigurationProperties注解依赖 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;","categories":[],"tags":[]},{"title":"nginx配置proxy_pass后，访问时路径丢失怎么办","slug":"nginx配置proxy_pass后，访问时路径丢失怎么办","date":"2018-11-01T09:40:38.916Z","updated":"2018-11-01T09:42:42.636Z","comments":true,"path":"2018/11/01/nginx配置proxy_pass后，访问时路径丢失怎么办/","link":"","permalink":"http://yoursite.com/2018/11/01/nginx配置proxy_pass后，访问时路径丢失怎么办/","excerpt":"","text":"应用场景 当我访问blog.first-blood.cn的时候，proxy_pass转发到jonny023.github.io这个域名下去了，而jonny023.github.io/upload/hello.jpg这个文件我通过blog.first-blood.cn/upload/hello.jpg访问就出现404 解决办法 此时在nginx的配置文件下的location配置下面添加一句 1proxy_set_header Host jonny023.github.io; 注意知道对不对，如果不对请来砍我1234567891011121314151617181920212223242526272829303132333435363738server &#123; listen 80; server_name blog.first-blood.cn; charset utf-8,gbk; root html; index index.html index.htm; location / &#123; proxy_set_header Host jonny023.github.io; #proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass https://jonny023.github.io; &#125; location ^~/archives/ &#123; proxy_pass https://jonny023.github.io/archives/; &#125; location ^~/uploads/ &#123; proxy_pass https://jonny023.github.io/uploads/; &#125; location /favico.ico &#123; proxy_pass https://jonny023.github.io; charset utf-8,gbk; expires 12h; &#125; location ~ .*\\.(js|css|eot|otf|ttf|woff|woff2)?$ &#123; proxy_pass https://jonny023.github.io; charset utf-8,gbk; expires 12h; &#125; location ~* \\.(eot|otf|ttf|woff|woff2)$ &#123; add_header Access-Control-Allow-Origin *; &#125;&#125;","categories":[{"name":"运维","slug":"运维","permalink":"http://yoursite.com/categories/运维/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"http://yoursite.com/tags/Nginx/"}]},{"title":"StringUtils工具包join方法转字符","slug":"StringUtils工具包join方法转字符","date":"2018-11-01T07:36:36.429Z","updated":"2018-11-01T08:52:24.924Z","comments":true,"path":"2018/11/01/StringUtils工具包join方法转字符/","link":"","permalink":"http://yoursite.com/2018/11/01/StringUtils工具包join方法转字符/","excerpt":"","text":"作用 将集合、数组元素通过指定字符连接为一个字符串 StringUtils.join()跟JDK1.8里面的String.join()差不多 依赖12345&lt;dependency&gt; &lt;groupId&gt;commons-lang&lt;/groupId&gt; &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; &lt;version&gt;2.6&lt;/version&gt;&lt;/dependency&gt; 具体代码123456789101112131415161718public static void main(String[] args) &#123; List list = new ArrayList(); list.add(\"市场\"); list.add(\"销售\"); list.add(\"运维\"); // 集合 String str = StringUtils.join(list,\",\"); System.out.println(str); // 数组 Object[] arrs = &#123;10010,10011,10086,10000&#125;; String s = StringUtils.join(arrs,\",\"); System.out.println(s);&#125; 执行结果 注意 StringUtils转数组的时候，只能是Object类型的数组","categories":[{"name":"后端","slug":"后端","permalink":"http://yoursite.com/categories/后端/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"}]},{"title":"Oracle case when then分组排序","slug":"Oracle case when then分组排序","date":"2018-11-01T06:00:35.058Z","updated":"2018-11-06T08:57:44.713Z","comments":true,"path":"2018/11/01/Oracle case when then分组排序/","link":"","permalink":"http://yoursite.com/2018/11/01/Oracle case when then分组排序/","excerpt":"","text":"问题描述 Oracle数据库使用case when then end别名后，group by不能使用这个别名，但是order by可以 使用函数 TO_CHAR( SYSDATE, &#39;yyyy&#39; )作用是获取系统时间年份 EXTRACT( year FROM DATE_CREATED )作用是获取表字段年份 示例代码1234567891011121314151617181920SELECT COUNT( * ) AS rs,CASE WHEN TO_CHAR( SYSDATE, &apos;yyyy&apos; ) - TO_CHAR( NAT_DATE, &apos;yyyy&apos; ) &lt; 18 THEN &apos;17岁及其以下&apos; END nFROM PERSON_INFO WHERE EXTRACT( year FROM DATE_CREATED ) = &apos;2018&apos; AND person_status = 0GROUP BY CASE WHEN TO_CHAR( SYSDATE, &apos;yyyy&apos; ) - TO_CHAR( NAT_DATE, &apos;yyyy&apos; ) &lt; 18 THEN &apos;17岁及其以下&apos; ENDORDER BY n 目前解决方案是分组时直接使用case when then end完整代码，若有大佬有其他解决方案，请联系我，Thanks!","categories":[{"name":"数据库","slug":"数据库","permalink":"http://yoursite.com/categories/数据库/"}],"tags":[{"name":"Oracle","slug":"Oracle","permalink":"http://yoursite.com/tags/Oracle/"}]},{"title":"nginx本地域名映射及tomcat集群session共享","slug":"nginx本地域名映射及tomcat集群session共享","date":"2018-10-26T08:34:00.483Z","updated":"2018-11-01T08:52:02.221Z","comments":true,"path":"2018/10/26/nginx本地域名映射及tomcat集群session共享/","link":"","permalink":"http://yoursite.com/2018/10/26/nginx本地域名映射及tomcat集群session共享/","excerpt":"","text":"本地域名映射 修改C:\\Windows\\System32\\drivers\\etc下的hosts文件，在hosts中添加 1127.0.0.1 www.cms.com nginx配置集群配置 修改nginx.conf文件 1234567891011121314151617181920http &#123; upstream local &#123; server 127.0.0.1:8889; server 127.0.0.1:8880; ip_hash; # 解决session共享问题 &#125; server &#123; listen 80; server_name localhost; location / &#123; charset utf-8,gbk; # 解决中文乱码问题。 proxy_pass http://local; &#125; &#125; &#125;","categories":[{"name":"运维","slug":"运维","permalink":"http://yoursite.com/categories/运维/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"http://yoursite.com/tags/Nginx/"},{"name":"Tomcat","slug":"Tomcat","permalink":"http://yoursite.com/tags/Tomcat/"},{"name":"Tomcat集群","slug":"Tomcat集群","permalink":"http://yoursite.com/tags/Tomcat集群/"}]}]}